# üöÄ –ú–∏–≥—Ä–∞—Ü–∏—è —Å Vercel –Ω–∞ Render

**–î–∞—Ç–∞:** 28 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤ –∫ –º–∏–≥—Ä–∞—Ü–∏–∏

---

## üìã –ü–õ–ê–ù –ú–ò–ì–†–ê–¶–ò–ò

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (–°–µ–π—á–∞—Å)
- [x] –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Render (`render.yaml`)
- [x] –í–∫–ª—é—á–∏—Ç—å `output: 'standalone'` –≤ `next.config.js`
- [x] –°–æ–∑–¥–∞—Ç—å Dockerfile (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [x] –°–æ–∑–¥–∞—Ç—å health check endpoint (`/api/health`)
- [x] –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- [ ] –ó–∞–ø—É—à–∏—Ç—å –≤ GitHub

### –≠—Ç–∞–ø 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Render (15-30 –º–∏–Ω—É—Ç)
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ [render.com](https://render.com)
2. –ü–æ–¥–∫–ª—é—á–∏—Ç—å GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π Web Service
4. –í—ã–±—Ä–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `merkurov1/newlove`
5. Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç `render.yaml`

### –≠—Ç–∞–ø 3: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (10-15 –º–∏–Ω—É—Ç)
–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ Vercel:

```bash
# –ù–∞ Vercel
vercel env pull .env.vercel

# –ó–∞—Ç–µ–º –¥–æ–±–∞–≤–∏—Ç—å –≤ Render Dashboard:
# Settings ‚Üí Environment ‚Üí Add Environment Variable
```

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
- `NEXT_PUBLIC_SUPABASE_URL`
- `NEXT_PUBLIC_SUPABASE_ANON_KEY`
- `SUPABASE_SERVICE_ROLE_KEY`
- `DATABASE_URL`
- `RESEND_API_KEY` (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- `STRIPE_SECRET_KEY` (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- `STRIPE_WEBHOOK_SECRET` (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

### –≠—Ç–∞–ø 4: –ü–µ—Ä–≤—ã–π –¥–µ–ø–ª–æ–π (5-10 –º–∏–Ω—É—Ç)
1. Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–Ω–µ—Ç –¥–µ–ø–ª–æ–π
2. –°–ª–µ–¥–∏—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏ –≤ Dashboard
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å health check: `https://your-app.onrender.com/api/health`

### –≠—Ç–∞–ø 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (30-60 –º–∏–Ω—É—Ç)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API endpoints
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–¥–º–∏–Ω–∫—É
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (Bluesky, Medium, YouTube)

### –≠—Ç–∞–ø 6: DNS –∏ –¥–æ–º–µ–Ω (15-30 –º–∏–Ω—É—Ç)
1. –í Render: Settings ‚Üí Custom Domain
2. –î–æ–±–∞–≤–∏—Ç—å –¥–æ–º–µ–Ω `merkurov.love`
3. –û–±–Ω–æ–≤–∏—Ç—å DNS –∑–∞–ø–∏—Å–∏:
   ```
   Type: CNAME
   Name: @
   Value: your-app.onrender.com
   ```
4. –î–æ–∂–¥–∞—Ç—å—Å—è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

### –≠—Ç–∞–ø 7: –û—Ç–∫–ª—é—á–µ–Ω–∏–µ Vercel (5 –º–∏–Ω—É—Ç)
1. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ Render —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
2. –í Vercel: Project Settings ‚Üí General ‚Üí Delete Project
3. –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –æ—Ç–∫–ª—é—á–∏—Ç—å auto-deploy

---

## üîß –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø RENDER

### render.yaml
```yaml
services:
  - type: web
    name: newlove
    runtime: node
    plan: starter
    region: oregon
    buildCommand: pnpm install && pnpm run build
    startCommand: pnpm start
    healthCheckPath: /api/health
    autoDeploy: true
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ Dashboard
- **Node Version:** 22.0.0
- **Build Command:** `pnpm install && pnpm run build`
- **Start Command:** `pnpm start`
- **Health Check:** `/api/health`
- **Auto Deploy:** Enabled (main branch)

---

## üí∞ –°–†–ê–í–ù–ï–ù–ò–ï –°–¢–û–ò–ú–û–°–¢–ò

### Vercel
- **Hobby (Free):** $0/–º–µ—Å—è—Ü
  - 100 GB bandwidth
  - Serverless Functions
  - Automatic SSL
  - **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:** Image optimization quota

### Render
- **Free:** $0/–º–µ—Å—è—Ü
  - 750 —á–∞—Å–æ–≤/–º–µ—Å—è—Ü
  - Automatic SSL
  - **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:** –°–ø–∏—Ç –ø–æ—Å–ª–µ 15 –º–∏–Ω –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
  
- **Starter:** $7/–º–µ—Å—è—Ü
  - –í—Å–µ–≥–¥–∞ –∞–∫—Ç–∏–≤–µ–Ω
  - 512 MB RAM
  - Automatic SSL
  - **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è production**

- **Standard:** $25/–º–µ—Å—è—Ü
  - 2 GB RAM
  - –ë–æ–ª—å—à–µ CPU
  - Priority support

---

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –û–¢–õ–ò–ß–ò–Ø

### Vercel ‚Üí Render

| –§—É–Ω–∫—Ü–∏—è | Vercel | Render |
|---------|--------|--------|
| Serverless Functions | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç (Node.js server) |
| Edge Functions | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç |
| Image Optimization | ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è | ‚ö†Ô∏è –ù—É–∂–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ |
| Auto-scaling | ‚úÖ –î–∞ | ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–æ |
| Cold starts | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ (Free tier) |
| Build time | ~2-3 –º–∏–Ω | ~3-5 –º–∏–Ω |
| Deploy time | ~30 —Å–µ–∫ | ~1-2 –º–∏–Ω |

### –ß—Ç–æ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:

1. **Output mode:**
   ```javascript
   // next.config.js
   output: 'standalone', // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è Render
   ```

2. **Image optimization:**
   - Vercel: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è
   - Render: –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å CDN –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Supabase Storage

3. **Environment variables:**
   - –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é –∏–∑ Vercel –≤ Render

4. **Health checks:**
   - –°–æ–∑–¥–∞–Ω endpoint `/api/health`

---

## üîÑ –û–¢–ö–ê–¢ (Rollback Plan)

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥–µ—Ç –Ω–µ —Ç–∞–∫:

### –ë—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–∞—Ç (5 –º–∏–Ω—É—Ç)
1. –í DNS –≤–µ—Ä–Ω—É—Ç—å CNAME –Ω–∞ Vercel
2. –í Vercel –≤–∫–ª—é—á–∏—Ç—å auto-deploy
3. –°–∞–π—Ç –≤–µ—Ä–Ω–µ—Ç—Å—è –Ω–∞ Vercel

### –ü–æ–ª–Ω—ã–π –æ—Ç–∫–∞—Ç
1. –£–¥–∞–ª–∏—Ç—å `output: 'standalone'` –∏–∑ `next.config.js`
2. –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏ –∑–∞–ø—É—à–∏—Ç—å
3. Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç

---

## üìä –ß–ï–ö–õ–ò–°–¢ –ú–ò–ì–†–ê–¶–ò–ò

### –ü–µ—Ä–µ–¥ –º–∏–≥—Ä–∞—Ü–∏–µ–π
- [x] –°–æ–∑–¥–∞—Ç—å `render.yaml`
- [x] –í–∫–ª—é—á–∏—Ç—å `output: 'standalone'`
- [x] –°–æ–∑–¥–∞—Ç—å health check
- [x] –°–æ–∑–¥–∞—Ç—å Dockerfile (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
- [ ] –ó–∞–ø—É—à–∏—Ç—å –≤ GitHub
- [ ] –°–¥–µ–ª–∞—Ç—å backup –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –í–æ –≤—Ä–µ–º—è –º–∏–≥—Ä–∞—Ü–∏–∏
- [ ] –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ Render
- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [ ] –î–æ–∂–¥–∞—Ç—å—Å—è –ø–µ—Ä–≤–æ–≥–æ –¥–µ–ø–ª–æ—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å health check
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### –ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏
- [ ] –û–±–Ω–æ–≤–∏—Ç—å DNS –∑–∞–ø–∏—Å–∏
- [ ] –î–æ–∂–¥–∞—Ç—å—Å—è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
- [ ] –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤ 24 —á–∞—Å–∞
- [ ] –û—Ç–∫–ª—é—á–∏—Ç—å Vercel (—á–µ—Ä–µ–∑ 48 —á–∞—Å–æ–≤)

---

## üö® –í–û–ó–ú–û–ñ–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### 1. Build fails
**–ü—Ä–æ–±–ª–µ–º–∞:** –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ  
**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ
pnpm install
pnpm run build
```

### 2. Environment variables missing
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è  
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Render Dashboard

### 3. Database connection fails
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ Supabase  
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `DATABASE_URL` –∏ firewall rules

### 4. Images not loading
**–ü—Ä–æ–±–ª–µ–º–∞:** –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è  
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `remotePatterns` –≤ `next.config.js`

### 5. Cold starts (Free tier)
**–ü—Ä–æ–±–ª–µ–º–∞:** –°–∞–π—Ç "–∑–∞—Å—ã–ø–∞–µ—Ç"  
**–†–µ—à–µ–Ω–∏–µ:** Upgrade –¥–æ Starter ($7/–º–µ—Å—è—Ü)

---

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

### Render
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: https://render.com/docs
- Support: https://render.com/support
- Community: https://community.render.com

### Next.js –Ω–∞ Render
- Guide: https://render.com/docs/deploy-nextjs-app

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### –î–ª—è production:
1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Starter plan** ($7/–º–µ—Å—è—Ü) - –Ω–µ—Ç cold starts
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ CDN** –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏ (Cloudflare)
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Supabase Storage** –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** (Sentry, LogRocket)
5. **Backup –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** —Ä–µ–≥—É–ª—è—Ä–Ω–æ

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:
1. –í–∫–ª—é—á–∏—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Next.js
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ISR (Incremental Static Regeneration)
3. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å bundle size
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CDN –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏

---

## ‚úÖ –ì–û–¢–û–í–ù–û–°–¢–¨ –ö –ú–ò–ì–†–ê–¶–ò–ò

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤  
**–†–∏—Å–∫–∏:** –ù–∏–∑–∫–∏–µ  
**–í—Ä–µ–º—è –º–∏–≥—Ä–∞—Ü–∏–∏:** 1-2 —á–∞—Å–∞  
**Downtime:** 0-5 –º–∏–Ω—É—Ç (–ø—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ DNS)

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –∑–∞–ø—É—à–∏—Ç—å –≤ GitHub
